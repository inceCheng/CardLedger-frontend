# 打牌积分系统前端

一个基于 Vue 3 + TypeScript + Ant Design Vue 的打牌积分管理系统前端应用，支持移动端响应式设计。

## 功能特性

### 🎮 核心功能
- **用户系统**：用户注册、登录、登出
- **房间管理**：创建房间、加入房间、离开房间
- **积分转账**：房间内玩家之间的积分转账
- **交易记录**：查看房间内所有积分交易记录
- **实时更新**：房间信息自动刷新

### 📱 移动端优化
- 响应式设计，完美适配手机、平板、桌面设备
- 触摸友好的界面设计
- 移动端专用的交互优化
- 安全区域适配（支持刘海屏）

### 🎨 界面特色
- 现代化 UI 设计
- 流畅的动画效果
- 直观的用户体验
- 深色/浅色主题支持

## 技术栈

- **框架**：Vue 3 + Composition API
- **语言**：TypeScript
- **UI 库**：Ant Design Vue 4.x
- **状态管理**：Pinia
- **路由**：Vue Router 4
- **构建工具**：Vite
- **HTTP 客户端**：Axios

## 项目结构

```
src/
├── api/                    # API 接口定义
│   ├── types.ts           # 类型定义
│   ├── userController.ts  # 用户相关接口
│   ├── roomController.ts  # 房间相关接口
│   └── scoreController.ts # 积分相关接口
├── components/            # 公共组件
│   └── GlobalHeader.vue   # 全局头部导航
├── layouts/               # 布局组件
│   └── BasicLayout.vue    # 基础布局
├── pages/                 # 页面组件
│   ├── HomePage.vue       # 首页
│   ├── LoginPage.vue      # 登录页
│   ├── RegisterPage.vue   # 注册页
│   └── RoomPage.vue       # 房间页
├── stores/                # 状态管理
│   ├── useLoginUserStore.ts # 用户状态
│   └── useRoomStore.ts    # 房间状态
├── styles/                # 样式文件
│   └── global.css         # 全局样式
└── router/                # 路由配置
    └── index.ts
```

## 快速开始

### 环境要求

- Node.js >= 16
- npm >= 8

### 安装依赖

```bash
npm install
```

### 开发环境

```bash
npm run dev
```

访问 http://localhost:5173

### 生产构建

```bash
npm run build
```

### 代码检查

```bash
npm run lint
```

## API 配置

项目默认连接到 `http://localhost:8080/api`，可以在 `src/request.ts` 中修改后端服务器地址。

## 主要页面说明

### 首页 (`/`)
- 登录用户：显示创建房间和加入房间选项
- 未登录用户：显示登录和注册按钮

### 登录页 (`/login`)
- 用户名/密码登录
- 自动跳转到首页

### 注册页 (`/register`)
- 用户注册功能
- 邮箱验证码支持

### 房间页 (`/room/:roomCode`)
- 显示房间信息和玩家列表
- 点击其他玩家头像进行积分转账
- 查看交易记录
- 实时刷新房间状态

## 移动端适配

项目针对移动端进行了全面优化：

- **响应式布局**：支持各种屏幕尺寸
- **触摸优化**：按钮和输入框符合移动端触摸标准
- **导航优化**：移动端友好的导航设计
- **模态框适配**：移动端专用的弹窗样式
- **安全区域**：支持 iPhone 等设备的安全区域

## 路由守卫

项目实现了路由守卫功能：

- **登录保护**：需要登录的页面会自动跳转到登录页
- **访客保护**：已登录用户访问登录/注册页会跳转到首页
- **自动登录**：页面刷新时自动尝试获取用户信息

## 状态管理

使用 Pinia 进行状态管理：

- **用户状态**：登录状态、用户信息管理
- **房间状态**：当前房间信息、玩家列表管理
- **持久化**：重要状态支持页面刷新保持

## 开发建议

1. **API 开发**：确保后端 API 按照接口文档实现
2. **错误处理**：项目已实现完善的错误处理和用户提示
3. **类型安全**：充分利用 TypeScript 的类型检查
4. **移动端测试**：建议在真实移动设备上测试用户体验

## 部署说明

1. 构建项目：`npm run build`
2. 将 `dist` 目录部署到 Web 服务器
3. 配置 nginx 支持 SPA 路由
4. 确保后端 API 服务正常运行

## 浏览器支持

- Chrome >= 87
- Firefox >= 78
- Safari >= 14
- Edge >= 88

## 贡献指南

1. Fork 项目
2. 创建特性分支
3. 提交更改
4. 推送到分支
5. 创建 Pull Request

## 许可证

MIT License